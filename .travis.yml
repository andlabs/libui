os:
- linux
- osx
dist: trusty
language: c
script:
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get update; fi
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get install libgtk-3-dev -y ||
  sudo apt-cache search libgtk3; fi
- if [ "$TRAVIS_OS_NAME" == "osx" ]; then brew update; fi
- if [ "$TRAVIS_OS_NAME" == "osx" ]; then brew upgrade cmake; fi
- mkdir build
- cd build
- cmake --version
- cmake .. -G "Unix Makefiles"
- make tester examples
- rm -rf *
- cmake .. -G "Unix Makefiles" -DBUILD_SHARED_LIBS=OFF
- make tester examples
deploy:
  provider: releases
  api_key:
    secure: XRak6U0l3QD2V7haazgl3v+maP86Hu0h/yeWd9o7xp/UkLQB32+Rf0QUHIsMrEd0EAHOAZtJJv8TGwNKPf3WZfub1xLMjWUm5WL6C+cZ2yRpIwsVoTgM2MkL6TCcnMHROG2ZxZ4nyfp/KFUI71rId2Izn2WFvUzM+AwSqB0wxLQwkH3FogSXHnMara4hbXMBf6Qi8YpgQNoEIAKthKxPuGukX1WRql0AWjTERJr5z28/Qr0Pm3sqrNH1JrsBocK6ZMoCTJxS1bNa/Siui+yEj0jx2RJ5cDt0aQ1fERmqaz5OE+s4li26KM3bExjsPErUbk+IJ59aCdAZ3L2Tt/ze9x4SvJYe6S74v0ztuZmQsH0R8+Sf06BwDWPlNvwRMkGRiQ+atMQ4qk6AlniHux3RaJOvh0ETevwr3Mc2pUKocxmvMmR7MID35frzXT3RD4+W1NGp+oZnodBw2lAzuyMxZ13xHaRRGLDfK9XzLhnqD67Qkaqx8mCA3xn2IehrIjFmvA1+ZaG2nx1ZfAu12rby1k/tIcOuEYHrbbB/r/rPMmtEDqjYZjpNn+rEa+h1TcdbWHk7mg+5aiwcE1P+vRKSj+/tH+VSsFhiFTIBE/iyFWhJxUVA7ryKj6zqL2gbKmGhYqzPrpowtHouG6mKJo0u8Ump3ZBInkhd+tOZ3EJhHAA=
  file: build/out/libui.so
  on:
    repo: parro-it/libui
    tags: true