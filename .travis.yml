os:
- linux
- osx
dist: trusty
language: c
script:
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get update; fi
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get install libgtk-3-dev -y ||
  sudo apt-cache search libgtk3; fi
- if [ "$TRAVIS_OS_NAME" == "osx" ]; then brew update; fi
- if [ "$TRAVIS_OS_NAME" == "osx" ]; then brew upgrade cmake; fi
- mkdir build
- cd build
- cmake --version
- cmake .. -G "Unix Makefiles"
- make tester examples
- rm -rf *
- cmake .. -G "Unix Makefiles" -DBUILD_SHARED_LIBS=OFF
- make tester examples
deploy:
  provider: releases
  api_key:
    secure: D+VTyx2996WwKwnVB2ihtwgkPLa92MhRHhQ9r5WG8FdPyGqEMSsbcuixm1x6xxLdNTaxQthourEhJiMnm6b5Vi2mGNQU8Kk82qWsvdF6+HTLF922qAF31d2cq+YfORWHfkF0H/NbtEn4IUmzlstN5uK6iGE3ZgbB15LoGbSYDlAyftRQeWpKLJnQsTevruYx3NmO7ItpG+a++vLQRUrU0UddlFbItoFc1xUolLSGq+Rur8Czq/8lKUDM4C8vDo8MhOlKdI5Sbp5yQY/BgB+OC2nmFiMRCd3+LS7+S6p/4UfbDPL/gd16+r3siefardyzh7NrbIoOoeLi/GaNh6+W4OBjybLeGotIXO7nvpbJ0ZsSgLZ5UVUSaizxHAsISIxZOTvYTtAN+ENSWqJpt6wVI9au8bit9PmHm9Arv3QbGETaXBIjDDbhYcJFMZeymWHys5MZuQ5KQnDbPbyqlW9sOT+gK8yW0qnhSLZ4u0uaxYtlQvObNXbvzArlNleq7i7c+XmM/CJqpUSmzSZZZ+oy48j+ueWtBB21mw70h4+fdhEK7RdLhTen7V6u/9BHS6620Ypqn7k16F0kjJnNsq7HjbPzPyFelsbLMTTGk20guNsNURMzfXQzkDXi4bEgCFX4V0mDE+9ydjes9XwAlo0KP1If+9ryP+UA/gb64Np8qeY=
  file: build/out/libui.so
  on:
    repo: parro-it/libui
    tags: true